(this["webpackJsonptest-pwa"]=this["webpackJsonptest-pwa"]||[]).push([[0],{57:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n(37),a=n.n(i),o=(n(57),n(12)),r=n(23),s=n(24),u=n(26),j=n(9),l=n(42),b=n(22),d=n(19),h={login:"Login",logout:"Logout",confirm:"Confirm",sendCode:"Send code",hello:function(e){return"Hello, ".concat(e," user!")}},O=n(5),f=function(){var e=Object(j.g)(),t=Object(j.f)(),n=Object(c.useState)(null),i=Object(b.a)(n,2),a=i[0],o=i[1];return Object(c.useEffect)((function(){var t;o(null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.authorized)}),[e]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:h.hello(a?"authorized":"unauthorized")}),a?Object(O.jsx)("button",{onClick:function(){o(null),t.replace(Object(l.a)(Object(l.a)({},t.location),{},{state:{authorized:!1}}))},children:h.logout}):Object(O.jsx)(d.b,{to:"/form",children:Object(O.jsx)("button",{children:h.login})})]})},p=n(4),x=n.n(p),m=n(16),v=n(40),g=n(31),C=(n(18),{apiKey:"AIzaSyB-AP60--UWIYzcmY0vmGO6VfCNvd1ifJw",authDomain:"test-pwa-f0d45.firebaseapp.com",projectId:"test-pwa-f0d45",storageBucket:"test-pwa-f0d45.appspot.com",messagingSenderId:"979178375166",appId:"1:979178375166:web:d713855290c3a8ce05a2af"}),w=n(49),I=n.n(w),S=n(50),k=n.n(S),z=(n(75),n(76),g.a.apps.length?g.a.app():g.a.initializeApp(C)),A=function(){var e=Object(c.useRef)(null),t=Object(j.f)(),n=Object(c.useState)(null),i=Object(b.a)(n,2),a=i[0],o=i[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),u=s[0],l=s[1],d=Object(c.useState)(null),f=Object(b.a)(d,2),p=f[0],C=f[1],w=Object(c.useState)(null),S=Object(b.a)(w,2),A=S[0],y=S[1];Object(c.useEffect)((function(){console.log("verification Id->",p)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Auth form with recaptcha"}),Object(O.jsx)("label",{children:"Phone number"}),Object(O.jsxs)("div",{className:"inputContainer",children:[Object(O.jsx)(k.a,{preferredCountries:["us"]}),Object(O.jsx)("button",{onClick:function(){Object(v.a)("phone",{phone:"+16505551234"}).subscribe((function(e){console.log(e.phoneNumber),l(!0)})),Object(v.b)().subscribe(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("cfaSignInPhoneOnCodeSent"),C(t),console.log(t),l(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:h.sendCode})]}),Object(O.jsxs)("p",{children:["Verification id: ",p]}),u&&Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Confirmation code"}),Object(O.jsxs)("div",{className:"inputContainer",children:[Object(O.jsx)(I.a,{value:a,onChange:o,numInputs:6}),Object(O.jsx)("button",{onClick:function(){var e=g.a.auth.PhoneAuthProvider.credential(p,a);z.auth().signInWithCredential(e).then((function(){t.push({pathname:"/",state:{authorized:!0}})})).catch((function(e){y((null===e||void 0===e?void 0:e.message)||"something went wrong")}))},children:h.confirm})]}),Object(O.jsx)("p",{children:A})]}),Object(O.jsx)("div",{id:"recaptcha-container",ref:e})]})},y=(n(77),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/",exact:!0,children:Object(O.jsx)(f,{})}),Object(O.jsx)(j.a,{path:"/form",children:Object(O.jsx)(A,{})})]})})}}]),n}(c.Component));a.a.render(Object(O.jsx)(d.a,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.d8adcec5.chunk.js.map